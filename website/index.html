<!DOCTYPE html>
<html lang="en" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zsh Autocomplete Plugin</title>
    
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Ubuntu Mono Font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Material Icons from Google CDN -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        * {
            font-family: 'Ubuntu Mono', monospace;
        }
        
        /* Dark mode styles */
        .dark {
            background-color: #0f172a;
            color: #e2e8f0;
        }
        
        .dark .bg-white {
            background-color: #1e293b !important;
        }
        
        .dark .bg-gray-50 {
            background-color: #0f172a !important;
        }
        
        .dark .text-gray-900 {
            color: #f1f5f9 !important;
        }
        
        .dark .text-gray-700 {
            color: #cbd5e1 !important;
        }
        
        .dark .text-gray-600 {
            color: #94a3b8 !important;
        }
        
        .dark .border-gray-200 {
            border-color: #334155 !important;
        }
        
        .dark .card {
            background: #1e293b;
            border-color: #334155;
        }
        
        .dark .card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        
        /* Island navigation - modular and isolated */
        .island-nav {
            background: white;
            border-radius: 9999px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 0.5rem;
        }
        
        .dark .island-nav {
            background: #1e293b;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .terminal {
            background: #1e1e1e;
            color: #d4d4d4;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .dark .terminal {
            background: #0a0a0a;
        }
        
        .terminal-header {
            background: #2d2d2d;
            padding: 8px 16px;
            border-bottom: 1px solid #404040;
        }
        
        .terminal-body {
            padding: 16px;
            min-height: 180px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .ghost-text {
            color: #666;
        }
        
        .cursor {
            display: inline-block;
            width: 8px;
            height: 18px;
            background: #d4d4d4;
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .card {
            background: white;
            border: 1px solid #e5e7eb;
            transition: all 0.2s ease;
        }
        
        .card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .material-icons {
            vertical-align: middle;
        }
        
        /* Highlight important phrases */
        .highlight {
            background: linear-gradient(transparent 50%, #fef3c7 50%);
            padding: 0 4px;
            font-weight: bold;
        }
        
        .dark .highlight {
            background: linear-gradient(transparent 50%, #713f12 50%);
        }
        
        /* Theme toggle button */
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: #cbd5e1;
            border-radius: 15px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .theme-toggle::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        
        .dark .theme-toggle {
            background: #475569;
        }
        
        .dark .theme-toggle::before {
            transform: translateX(30px);
        }
        
        /* Download button animation */
        .download-btn {
            transition: all 0.3s ease;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        /* Command output styling */
        .command-output {
            font-size: 0.9em;
            margin-top: 4px;
        }
        
        /* Tab button styling */
        .tab-indicator {
            display: inline-block;
            padding: 2px 8px;
            background: #374151;
            color: #9ca3af;
            border-radius: 4px;
            margin-right: 4px;
            font-size: 0.8em;
        }
    </style>
</head>
<body class="bg-gray-50 transition-colors duration-200">
    
    <!-- Navigation with Island Architecture -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 transition-colors duration-200">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-3">
                    <span class="material-icons text-3xl text-blue-600">terminal</span>
                    <div>
                        <div class="text-xl font-bold text-gray-900">Zsh Autocomplete</div>
                        <div class="text-xs text-gray-500">High-Performance Plugin</div>
                    </div>
                </div>
                
                <!-- Island Navigation Links -->
                <div class="island-nav flex items-center space-x-2">
                    <a href="#demo" class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 flex items-center space-x-1 transition-all">
                        <span class="material-icons text-sm">play_circle_outline</span>
                        <span class="hidden md:inline">Demo</span>
                    </a>
                    <a href="#download" class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 flex items-center space-x-1 transition-all">
                        <span class="material-icons text-sm">download</span>
                        <span class="hidden md:inline">Download</span>
                    </a>
                    <a href="#installation" class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 flex items-center space-x-1 transition-all">
                        <span class="material-icons text-sm">build</span>
                        <span class="hidden md:inline">Install</span>
                    </a>
                    <a href="#usage" class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 flex items-center space-x-1 transition-all">
                        <span class="material-icons text-sm">help_outline</span>
                        <span class="hidden md:inline">Usage</span>
                    </a>
                    <a href="https://github.com/sbeeredd04/zsh_plugin" target="_blank" class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 flex items-center space-x-1 transition-all">
                        <span class="material-icons text-sm">open_in_new</span>
                        <span class="hidden md:inline">GitHub</span>
                    </a>
                </div>
                
                <!-- Theme Toggle -->
                <div class="flex items-center space-x-2">
                    <span class="material-icons text-sm text-gray-600">light_mode</span>
                    <div class="theme-toggle" onclick="toggleTheme()" id="theme-toggle"></div>
                    <span class="material-icons text-sm text-gray-600">dark_mode</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container - 75% width, centered -->
    <main class="w-full max-w-[75%] mx-auto px-6 py-16">
        
        <!-- About Section -->
        <section class="mb-20">
            <div class="flex items-center space-x-2 mb-6">
                <span class="material-icons text-gray-700">info</span>
                <h2 class="text-2xl font-bold text-gray-900">About</h2>
            </div>
            <div class="card rounded-lg p-8">
                <p class="text-gray-700 leading-relaxed mb-4">
                    A <span class="highlight">high-performance hybrid Zsh+C</span> autocomplete plugin with <span class="highlight">trie-based prefix matching</span>, ghost text completion, and persistent storage. Features <span class="highlight">smart history navigation</span> that filters commands by prefix and learns from your usage patterns.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                    <div class="flex items-start space-x-3">
                        <span class="material-icons text-blue-500 mt-1">flash_on</span>
                        <div>
                            <div class="font-bold text-gray-900">Lightning Fast</div>
                            <div class="text-gray-600 text-sm"><span class="highlight">O(log n)</span> trie-based prefix matching with C-powered performance</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <span class="material-icons text-green-500 mt-1">visibility</span>
                        <div>
                            <div class="font-bold text-gray-900">Ghost Text</div>
                            <div class="text-gray-600 text-sm">Smart suggestions appear <span class="highlight">as you type</span> with dim gray styling</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <span class="material-icons text-purple-500 mt-1">filter_list</span>
                        <div>
                            <div class="font-bold text-gray-900">Prefix Filtering</div>
                            <div class="text-gray-600 text-sm">Navigate <span class="highlight">only commands matching</span> your current prefix</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <span class="material-icons text-orange-500 mt-1">save</span>
                        <div>
                            <div class="font-bold text-gray-900">Persistent Storage</div>
                            <div class="text-gray-600 text-sm">Commands cached between sessions for <span class="highlight">instant startup</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Download Section with Prominent Button -->
        <section id="download" class="mb-20">
            <div class="flex items-center space-x-2 mb-6">
                <span class="material-icons text-gray-700">cloud_download</span>
                <h2 class="text-2xl font-bold text-gray-900">Download</h2>
            </div>
            <div class="card rounded-lg p-8 text-center">
                <div class="mb-6">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Get v1.0.0 Release</h3>
                    <p class="text-gray-600">
                        Download the <span class="highlight">complete packaged plugin</span> with binaries and installation guide
                    </p>
                </div>
                <a href="https://github.com/sbeeredd04/zsh_plugin/releases/download/v1.0.0/zsh-autocomplete-v1.0.0.tar.gz" 
                   class="download-btn inline-flex items-center space-x-3 bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-bold hover:bg-blue-700">
                    <span class="material-icons">download</span>
                    <span>Download Plugin (v1.0.0)</span>
                </a>
                <div class="mt-6 text-sm text-gray-500">
                    <div class="flex items-center justify-center space-x-4">
                        <div class="flex items-center space-x-1">
                            <span class="material-icons text-xs">check_circle</span>
                            <span>Ready-to-use binary</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <span class="material-icons text-xs">check_circle</span>
                            <span>Installation guide included</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <span class="material-icons text-xs">check_circle</span>
                            <span>~14KB compressed</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Demo Section -->
        <section id="demo" class="mb-20">
            <div class="flex items-center space-x-2 mb-6">
                <span class="material-icons text-gray-700">play_circle_outline</span>
                <h2 class="text-2xl font-bold text-gray-900">Interactive Demo</h2>
            </div>
            <div class="card rounded-lg p-8">
                <p class="text-gray-700 mb-6">
                    Type in the terminal below to see <span class="highlight">ghost text suggestions in real-time</span>. Try typing "git" or "ls":
                </p>
                
                <div class="terminal">
                    <div class="terminal-header">
                        <div class="flex items-center justify-between">
                            <div class="flex space-x-2">
                                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                                <div class="w-3 h-3 rounded-full bg-green-500"></div>
                            </div>
                            <div class="text-xs text-gray-400">zsh - autocomplete demo</div>
                        </div>
                    </div>
                    <div class="terminal-body" tabindex="0">
                        <div class="flex items-center mb-2">
                            <span class="text-green-400">$</span>
                            <span class="ml-2" id="user-input"></span>
                            <span class="ghost-text" id="ghost-suggestion"></span>
                            <span class="cursor" id="cursor"></span>
                        </div>
                        <div id="output" class="command-output"></div>
                    </div>
                </div>
                
                <div class="mt-6 grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="flex items-start space-x-2">
                        <span class="material-icons text-blue-500 text-sm">arrow_upward</span>
                        <div class="flex-1">
                            <div class="font-bold text-gray-900 text-sm">Up Arrow</div>
                            <div class="text-gray-600 text-xs">Previous matching command</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <span class="material-icons text-blue-500 text-sm">arrow_forward</span>
                        <div class="flex-1">
                            <div class="font-bold text-gray-900 text-sm">Right Arrow</div>
                            <div class="text-gray-600 text-xs">Accept ghost suggestion</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <span class="material-icons text-blue-500 text-sm">keyboard_tab</span>
                        <div class="flex-1">
                            <div class="font-bold text-gray-900 text-sm">Tab</div>
                            <div class="text-gray-600 text-xs">Accept ghost text</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <span class="material-icons text-blue-500 text-sm">keyboard_return</span>
                        <div class="flex-1">
                            <div class="font-bold text-gray-900 text-sm">Enter</div>
                            <div class="text-gray-600 text-xs">Execute command</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Installation Section -->
        <section id="installation" class="mb-20">
            <div class="flex items-center space-x-2 mb-6">
                <span class="material-icons text-gray-700">build</span>
                <h2 class="text-2xl font-bold text-gray-900">Installation</h2>
            </div>
            
            <div class="space-y-6">
                <div class="card rounded-lg p-8">
                    <div class="flex items-center space-x-2 mb-4">
                        <span class="material-icons text-blue-600">auto_awesome</span>
                        <h3 class="text-lg font-bold text-gray-900">Quick Install from Release <span class="highlight">(Recommended)</span></h3>
                    </div>
                    <div class="space-y-3">
                        <p class="text-gray-700 text-sm mb-3">
                            Download and extract the <span class="highlight">pre-built package</span> with all binaries included:
                        </p>
                        <div class="bg-gray-900 text-gray-100 rounded p-4 overflow-x-auto">
                            <code>wget https://github.com/sbeeredd04/zsh_plugin/releases/download/v1.0.0/zsh-autocomplete-v1.0.0.tar.gz<br>tar -xzf zsh-autocomplete-v1.0.0.tar.gz<br>cd zsh-autocomplete-v1.0.0<br>echo "source $(pwd)/plugin.zsh" >> ~/.zshrc<br>source ~/.zshrc</code>
                        </div>
                        <div class="mt-3 text-sm text-gray-600">
                            The package includes <span class="highlight">INSTALL.txt</span> with complete setup instructions.
                        </div>
                    </div>
                </div>
                
                <div class="card rounded-lg p-8">
                    <div class="flex items-center space-x-2 mb-4">
                        <span class="material-icons text-green-600">code</span>
                        <h3 class="text-lg font-bold text-gray-900">Build from Source</h3>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <div class="text-sm text-gray-600 mb-2">Step 1: Clone the repository</div>
                            <div class="bg-gray-900 text-gray-100 rounded p-4 overflow-x-auto">
                                <code>git clone https://github.com/sbeeredd04/zsh_plugin.git<br>cd zsh_plugin</code>
                            </div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-600 mb-2">Step 2: Build the system</div>
                            <div class="bg-gray-900 text-gray-100 rounded p-4 overflow-x-auto">
                                <code>make clean && make</code>
                            </div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-600 mb-2">Step 3: Add to your .zshrc</div>
                            <div class="bg-gray-900 text-gray-100 rounded p-4 overflow-x-auto">
                                <code>echo "source $(pwd)/plugin.zsh" >> ~/.zshrc</code>
                            </div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-600 mb-2">Step 4: Reload shell</div>
                            <div class="bg-gray-900 text-gray-100 rounded p-4 overflow-x-auto">
                                <code>source ~/.zshrc</code>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Usage Section -->
        <section id="usage" class="mb-20">
            <div class="flex items-center space-x-2 mb-6">
                <span class="material-icons text-gray-700">help_outline</span>
                <h2 class="text-2xl font-bold text-gray-900">How to Use</h2>
            </div>
            
            <div class="space-y-6">
                <div class="card rounded-lg p-8">
                    <div class="flex items-center space-x-2 mb-4">
                        <span class="material-icons text-gray-600">keyboard</span>
                        <h3 class="text-lg font-bold text-gray-900">Basic Operations</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <span class="material-icons text-gray-400 text-sm">arrow_upward</span>
                            <div class="flex-1">
                                <span class="font-bold text-gray-900">Up Arrow:</span>
                                <span class="text-gray-700"> Navigate to previous command matching prefix</span>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="material-icons text-gray-400 text-sm">arrow_downward</span>
                            <div class="flex-1">
                                <span class="font-bold text-gray-900">Down Arrow:</span>
                                <span class="text-gray-700"> Navigate to next command matching prefix</span>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="material-icons text-gray-400 text-sm">arrow_forward</span>
                            <div class="flex-1">
                                <span class="font-bold text-gray-900">Right Arrow:</span>
                                <span class="text-gray-700"> Accept ghost text completion</span>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="material-icons text-gray-400 text-sm">keyboard_return</span>
                            <div class="flex-1">
                                <span class="font-bold text-gray-900">Enter:</span>
                                <span class="text-gray-700"> Execute command and update usage statistics</span>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="material-icons text-gray-400 text-sm">keyboard_tab</span>
                            <div class="flex-1">
                                <span class="font-bold text-gray-900">Tab:</span>
                                <span class="text-gray-700"> Accept ghost text or trigger standard completion</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card rounded-lg p-8">
                    <div class="flex items-center space-x-2 mb-4">
                        <span class="material-icons text-gray-600">tips_and_updates</span>
                        <h3 class="text-lg font-bold text-gray-900">Example Workflow</h3>
                    </div>
                    <div class="bg-gray-900 text-gray-100 rounded p-4 overflow-x-auto">
                        <code>
$ gi<span class="text-gray-500">t status</span>          <span class="text-gray-500"># Ghost suggestion appears</span><br>
<span class="text-gray-500"># Press → to accept or continue typing</span><br><br>
$ git<span class="text-gray-500"> status</span>         <span class="text-gray-500"># Type "t"</span><br>
<span class="text-gray-500"># Press ↑ to see history</span><br><br>
$ git status             <span class="text-gray-500"># From history</span><br>
$ git commit -m          <span class="text-gray-500"># Press ↑ again</span><br>
$ git push               <span class="text-gray-500"># Press ↑ again</span><br>
<span class="text-gray-500"># Press ↓ to navigate back</span>
                        </code>
                    </div>
                </div>
                
                <div class="card rounded-lg p-8">
                    <div class="flex items-center space-x-2 mb-4">
                        <span class="material-icons text-gray-600">settings</span>
                        <h3 class="text-lg font-bold text-gray-900">How It Works</h3>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <div class="font-bold text-gray-900 mb-2">Prefix-Based History Navigation</div>
                            <div class="text-gray-700 text-sm">
                                Type any prefix (e.g., "git") and press ↑/↓ to navigate only commands starting with that prefix. The system remembers your current position in filtered results.
                            </div>
                        </div>
                        <div>
                            <div class="font-bold text-gray-900 mb-2">Ghost Text Completion</div>
                            <div class="text-gray-700 text-sm">
                                As you type, the best matching command appears as a suggestion in dim gray. Press → (right arrow) to accept the ghost text. Suggestions are based on frequency and recency of usage.
                            </div>
                        </div>
                        <div>
                            <div class="font-bold text-gray-900 mb-2">Persistent Learning</div>
                            <div class="text-gray-700 text-sm">
                                All commands are stored in a trie structure for fast retrieval. Frequency tracking ensures better suggestions over time. Data persisted to data/trie_data.txt with no re-initialization between sessions.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Performance Section -->
        <section class="mb-20">
            <div class="flex items-center space-x-2 mb-6">
                <span class="material-icons text-gray-700">speed</span>
                <h2 class="text-2xl font-bold text-gray-900">Performance</h2>
            </div>
            <div class="card rounded-lg p-8">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900">0ms</div>
                        <div class="text-sm text-gray-600">Startup Time</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900">&lt;5ms</div>
                        <div class="text-sm text-gray-600">Ghost Text Response</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900">&lt;10ms</div>
                        <div class="text-sm text-gray-600">History Filtering</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-gray-900">~1MB</div>
                        <div class="text-sm text-gray-600">Memory (1000 cmds)</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-8">
        <div class="max-w-5xl mx-auto px-6 text-center text-gray-600">
            <div class="flex items-center justify-center space-x-2 mb-2">
                <span class="material-icons text-sm">code</span>
                <span>Built with TailwindCSS and Ubuntu Mono</span>
            </div>
            <div class="flex items-center justify-center space-x-2">
                <span class="material-icons text-sm">favorite</span>
                <span>Open source on <a href="https://github.com/sbeeredd04/zsh_plugin" class="text-blue-600 hover:underline" target="_blank">GitHub</a></span>
            </div>
        </div>
    </footer>

    <!-- Interactive Demo Script -->
    <script>
        // Theme toggle functionality
        function toggleTheme() {
            const html = document.documentElement;
            const isDark = html.classList.contains('dark');
            
            if (isDark) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // Load theme preference on page load
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            }
        });
    
        // Sample command history for demo
        const commandHistory = [
            'git status',
            'git add .',
            'git commit -m "Update files"',
            'git push origin main',
            'git pull',
            'git log --oneline',
            'git diff',
            'git branch',
            'ls -la',
            'ls -lh',
            'cd projects',
            'npm install',
            'npm start',
            'npm test',
            'make clean',
            'make build',
            'docker ps',
            'docker compose up'
        ];
        
        // Simulated command outputs
        const commandOutputs = {
            'git status': 'On branch main\nYour branch is up to date with \'origin/main\'.\n\nnothing to commit, working tree clean',
            'git log --oneline': 'a1b2c3d Fix bug in authentication\nd4e5f6g Add new feature\nh7i8j9k Update documentation',
            'ls -la': 'total 48\ndrwxr-xr-x  12 user  staff   384 Oct 25 12:00 .\ndrwxr-xr-x   6 user  staff   192 Oct 24 10:00 ..\n-rw-r--r--   1 user  staff  1234 Oct 25 11:30 README.md',
            'npm install': 'added 156 packages in 3.2s',
            'make build': 'gcc -O2 -Wall -Iinclude -o autocomplete autocomplete.o trie.o\nBuild successful!',
            'docker ps': 'CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES'
        };

        const userInputElement = document.getElementById('user-input');
        const ghostSuggestionElement = document.getElementById('ghost-suggestion');
        const outputElement = document.getElementById('output');
        const cursorElement = document.getElementById('cursor');
        
        let currentInput = '';
        let historyIndex = -1;
        let currentPrefix = '';
        let executionCount = 0;

        // Find best matching command for ghost text
        function findGhostSuggestion(input) {
            if (!input) return '';
            
            const matches = commandHistory.filter(cmd => cmd.startsWith(input));
            if (matches.length > 0) {
                return matches[0].substring(input.length);
            }
            return '';
        }

        // Find commands matching prefix
        function findPrefixMatches(prefix) {
            return commandHistory.filter(cmd => cmd.startsWith(prefix));
        }

        // Update display
        function updateDisplay() {
            userInputElement.textContent = currentInput;
            const ghost = findGhostSuggestion(currentInput);
            ghostSuggestionElement.textContent = ghost;
        }
        
        // Execute command and show output
        function executeCommand(cmd) {
            executionCount++;
            
            // Show command executed
            const cmdDiv = document.createElement('div');
            cmdDiv.className = 'text-green-400 mb-1';
            const checkmark = document.createElement('span');
            checkmark.className = 'text-green-500';
            checkmark.textContent = '✓ ';
            cmdDiv.appendChild(checkmark);
            const cmdText = document.createElement('span');
            cmdText.textContent = cmd;
            cmdDiv.appendChild(cmdText);
            outputElement.insertBefore(cmdDiv, outputElement.firstChild);
            
            // Show simulated output if available
            const output = commandOutputs[cmd];
            if (output) {
                const outputDiv = document.createElement('div');
                outputDiv.className = 'text-gray-400 text-xs ml-4 mb-2 whitespace-pre-wrap';
                outputDiv.textContent = output;
                outputElement.insertBefore(outputDiv, outputElement.firstChild);
            }
            
            // Limit output history
            while (outputElement.children.length > 20) {
                outputElement.removeChild(outputElement.lastChild);
            }
        }

        // Handle keyboard input
        document.addEventListener('keydown', (e) => {
            const terminal = document.querySelector('.terminal-body');
            if (!terminal) return;

            // Check if we're focused on the page (not an input field)
            if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') {
                return;
            }

            e.preventDefault();

            if (e.key === 'Backspace') {
                // Backspace
                currentInput = currentInput.slice(0, -1);
                historyIndex = -1;
                updateDisplay();
            } else if (e.key === 'Tab') {
                // Tab - accept ghost suggestion
                const ghost = findGhostSuggestion(currentInput);
                if (ghost) {
                    currentInput += ghost;
                    updateDisplay();
                }
            } else if (e.key === 'ArrowRight') {
                // Accept ghost suggestion
                const ghost = findGhostSuggestion(currentInput);
                if (ghost) {
                    currentInput += ghost;
                    updateDisplay();
                }
            } else if (e.key === 'ArrowUp') {
                // Navigate history
                if (currentInput !== currentPrefix) {
                    currentPrefix = currentInput;
                    historyIndex = -1;
                }
                const matches = findPrefixMatches(currentPrefix);
                if (matches.length > 0) {
                    historyIndex = (historyIndex + 1) % matches.length;
                    currentInput = matches[historyIndex];
                    updateDisplay();
                }
            } else if (e.key === 'ArrowDown') {
                // Navigate history backward
                const matches = findPrefixMatches(currentPrefix);
                if (matches.length > 0 && historyIndex > 0) {
                    historyIndex = (historyIndex - 1 + matches.length) % matches.length;
                    currentInput = matches[historyIndex];
                    updateDisplay();
                } else if (historyIndex === 0) {
                    currentInput = currentPrefix;
                    historyIndex = -1;
                    updateDisplay();
                }
            } else if (e.key === 'Enter') {
                // Execute command
                if (currentInput) {
                    executeCommand(currentInput);
                    currentInput = '';
                    currentPrefix = '';
                    historyIndex = -1;
                    updateDisplay();
                }
            } else if (e.key.length === 1 && !e.ctrlKey && !e.metaKey && !e.altKey) {
                // Regular character input
                currentInput += e.key;
                historyIndex = -1;
                updateDisplay();
            }
        });

        // Initial display
        updateDisplay();

        // Add click handler to focus terminal
        document.querySelector('.terminal-body').addEventListener('click', () => {
            document.querySelector('.terminal-body').focus();
        });

        // Show instruction on load
        setTimeout(() => {
            const instructionDiv = document.createElement('div');
            instructionDiv.className = 'text-blue-400 text-sm';
            instructionDiv.innerHTML = 'Type anywhere on the page to interact • Try: <span class="text-yellow-400">git</span> or <span class="text-yellow-400">ls</span> • Press <span class="tab-indicator">Tab</span> or <span class="tab-indicator">→</span> to accept';
            outputElement.appendChild(instructionDiv);
        }, 500);
    </script>

</body>
</html>
